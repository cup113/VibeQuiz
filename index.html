<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <link rel="icon" href="/favicon.ico" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta
            name="keywords"
            content="AI测验生成器, JSON测验导入, 交互式测验工具, 教育评估, 多选题测验, 学习工具, 测验创建器, AI驱动测验, 学习工具, 测试生成器"
        />
        <meta
            name="description"
            content="Vibe Quiz: AI智能测验生成器与交互式学习工具。通过AI提示生成测验，导入JSON格式问题，进行交互式评估，并获取AI驱动的错误分析来提升知识掌握度。"
        />
        <title>Vibe Quiz: AI智能测验生成器与交互式学习工具</title>
    </head>
    <body>
        <!-- Import View -->
        <div id="importContainer" class="view-container">
            <div class="min-h-screen flex items-center justify-center p-4">
                <div
                    class="w-full max-w-2xl bg-white rounded-3xl shadow-xl shadow-gray-200/50 border border-gray-100 overflow-hidden"
                >
                    <div class="p-8">
                        <h1 class="text-2xl font-extrabold mb-2">
                            🧠 VibeQuiz
                        </h1>
                        <p class="text-gray-500 mb-4">导入JSON开始测验。</p>

                        <details
                            class="mb-6 bg-blue-50/50 border border-blue-100 rounded-2xl p-4"
                        >
                            <summary
                                class="cursor-pointer text-blue-700 font-semibold text-sm flex items-center gap-2"
                            >
                                <span>📝 如何使用AI提示生成JSON</span>
                            </summary>
                            <div class="mt-4 space-y-4">
                                <div class="text-sm text-gray-700">
                                    <p class="mb-2">
                                        复制此提示词模板，向AI（GPT-4/Claude）请求生成测验问题：
                                    </p>

                                    <div
                                        class="bg-white p-4 rounded-xl border border-gray-200 text-xs font-mono mb-3"
                                    >
                                        <pre>
# Capabilities & Rules:

【根据你的主题性质引导AI生成题目】

## 干扰项设计 (Distractor Quality)

- **避免主观**：干扰项必须有据可查。
- **难度适中**：干扰项应具有迷惑性，能够区分"模糊记忆"与"精准掌握"。
- **选项数量**：每题 3-6 个选项，若考点单一可设为 3-4 个。

# Output Format:

仅输出一个 JSON 代码块，格式如下：

```typescript
Array&lt;{
  question: string, // 题干，需标明题目类型（单选/多选）
  keys: string[],   // 正确答案数组
  distractors: string[] // 干扰项数组
}&gt;
```</pre
                                        >
                                    </div>

                                    <div
                                        class="text-xs text-gray-500 space-y-1"
                                    >
                                        <p class="flex items-center gap-1">
                                            <span
                                                class="inline-block w-2 h-2 bg-green-500 rounded-full"
                                            ></span>
                                            <strong>示例1（历史）：</strong>
                                            "生成5个关于第二次世界大战的多选题..."
                                        </p>
                                        <p class="flex items-center gap-1">
                                            <span
                                                class="inline-block w-2 h-2 bg-blue-500 rounded-full"
                                            ></span>
                                            <strong>示例2 （编程）：</strong>
                                            "创建3个关于async/await的JavaScript问题..."
                                        </p>
                                        <p class="flex items-center gap-1">
                                            <span
                                                class="inline-block w-2 h-2 bg-purple-500 rounded-full"
                                            ></span>
                                            <strong>示例3（医学）：</strong>
                                            "制作4个带临床场景的解剖学问题..."
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </details>
                        <textarea
                            id="jsonInput"
                            placeholder='[{"question": "...", "keys": ["..."], "distractors": ["..."]}]'
                            class="w-full h-64 p-4 bg-gray-50 border border-gray-200 rounded-2xl font-mono text-sm focus:ring-2 focus:ring-black outline-none transition-all custom-scrollbar"
                        ></textarea>
                        <button id="importBtn" class="btn-primary mt-6">
                            开始测验 →
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quiz View -->
        <div id="quizContainer" class="view-container hidden">
            <div class="min-h-screen flex items-center justify-center p-4">
                <div
                    class="w-full max-w-2xl bg-white rounded-3xl shadow-xl shadow-gray-200/50 border border-gray-100 overflow-hidden"
                >
                    <div id="progressBar" class="h-2 bg-gray-100 w-full">
                        <div
                            id="progressFill"
                            class="h-full bg-black transition-all duration-500"
                            style="width: 0%"
                        ></div>
                    </div>
                    <div class="p-8">
                        <div class="flex justify-between items-center mb-8">
                            <span
                                id="questionCounter"
                                class="text-xs font-bold uppercase tracking-widest text-gray-400"
                                >第 1/0 题</span
                            >
                        </div>
                        <h2
                            id="questionText"
                            class="text-xl font-bold mb-8 leading-snug"
                        ></h2>
                        <div class="space-y-3" id="optionsContainer">
                            <!-- Options will be dynamically populated -->
                        </div>
                        <div class="mt-10">
                            <button id="submitBtn" class="btn-primary hidden">
                                检查答案
                            </button>
                            <button
                                id="nextBtn"
                                class="w-full py-4 rounded-2xl bg-blue-600 text-white font-bold hidden"
                            >
                                下一题 →
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Report View -->
        <div id="reportContainer" class="view-container hidden">
            <div class="min-h-screen flex items-center justify-center p-4">
                <div
                    class="w-full max-w-2xl bg-white rounded-3xl shadow-xl shadow-gray-200/50 border border-gray-100 overflow-hidden"
                >
                    <div
                        class="p-8 max-h-[90vh] overflow-y-auto custom-scrollbar"
                    >
                        <div class="text-center mb-10">
                            <div id="resultEmoji" class="text-5xl mb-4"></div>
                            <h1
                                id="resultPercentage"
                                class="text-4xl font-black"
                            ></h1>
                            <p id="resultScore" class="text-gray-500"></p>
                        </div>

                        <div
                            id="aiPromptSection"
                            class="mb-8 p-6 bg-red-50/50 border border-red-100 rounded-3xl hidden"
                        >
                            <div class="flex items-center justify-between mb-4">
                                <h3
                                    class="text-sm font-black text-red-500 uppercase tracking-widest"
                                >
                                    整合AI提示词
                                </h3>
                                <span
                                    class="text-[10px] bg-red-100 text-red-600 px-2 py-1 rounded-full font-bold"
                                    >批量模式</span
                                >
                            </div>
                            <p
                                class="text-xs text-red-400 mb-3 leading-relaxed"
                            >
                                将下方文本复制到您常用的AI（GPT-4/Claude）中，一次性分析所有错误。
                            </p>
                            <textarea
                                id="aiPrompt"
                                readonly
                                class="w-full h-80 p-4 text-xs font-mono bg-white border border-red-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-red-400 custom-scrollbar"
                            ></textarea>
                            <div class="mt-4 text-center">
                                <p class="text-[10px] text-gray-400">
                                    点击文本框全选文本
                                </p>
                            </div>
                        </div>

                        <div
                            id="perfectScoreMessage"
                            class="p-12 text-center bg-green-50 rounded-3xl text-green-700 font-bold mb-8 italic hidden"
                        >
                            "完美掌握！您已经完全掌握这组题目。"
                        </div>

                        <button id="restartBtn" class="btn-primary">
                            重新开始
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <script type="module" src="/src/main.ts"></script>
    </body>
</html>
